<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Drinkless - Gain Mental Clarity and Financial Success</title>
    <meta name="description" content="Let's quit drinking together and gain the mental clarity to find your success and the respect you deserve!" />
    <meta name="author" content="Lovable" />
    <meta property="og:image" content="/og-image.svg" />
    <link rel="icon" type="image/png" href="/lovable-uploads/7a5539e0-e4de-4503-b700-a238deb11890.png" />
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XBKGLRX3EX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XBKGLRX3EX', {
        debug_mode: true,
        send_page_view: true
      });
      
      // Debug logging
      console.log('GA4 initialization started');
      window.addEventListener('load', function() {
        console.log('Window loaded, checking GA4');
        if (typeof gtag === 'function') {
          console.log('GA4 loaded successfully');
          // Test event
          gtag('event', 'page_view', {
            page_title: document.title,
            page_location: window.location.href
          });
        }
      });
    </script>

    <!-- TruConversion for getdrinkless.com -->
    <script type="text/javascript">
      // Initialize _tip on window object
      window._tip = window._tip || [];
      
      // Load TruConversion script
      window.addEventListener('load', function() {
        try {
          (function(d,s,id){
            if (d.getElementById(id)) return;
            
            var js = d.createElement(s);
            js.id = id;
            js.async = true;
            js.src = window.location.protocol + '//app.truconversion.com/ti-js/42081/d53dd.js';
            js.onerror = function(error) {
              console.error('TruConversion script failed to load:', error);
            };
            js.onload = function() {
              console.log('TruConversion script loaded successfully');
            };
            
            var firstScript = d.getElementsByTagName(s)[0];
            firstScript.parentNode.insertBefore(js, firstScript);
          })(document, 'script', 'ti-js');
        } catch (error) {
          console.error('TruConversion initialization error:', error);
        }
      });
    </script>

    <!-- TruConversion visitor tracking for getdrinkless.com -->
    <script type="text/javascript">
      window.addEventListener('load', function() {
        try {
          !function(){
            var e="rest.revealid.xyz/v3/script?clientId=w374oFHQU45K96Mcb3CX7k&version=4.0.0";
            var t=document.createElement("script");
            t.src="https://"+e;
            t.async = true;
            t.crossOrigin = "anonymous";
            
            t.onload = function(){
              try {
                new Reveal.default;
                console.log('Reveal tracking initialized successfully');
              } catch(error) {
                console.error('Error initializing Reveal:', error);
              }
            };
            
            t.onerror = function(error) {
              console.error('Error loading Reveal script:', error);
            };
            
            var c=document.getElementsByTagName("script")[0];
            c.parentNode.insertBefore(t,c);
          }();
        } catch(error) {
          console.error('Error in Reveal tracking setup:', error);
        }
      });
    </script>
  </head>

  <body>
    <div id="root"></div>
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>